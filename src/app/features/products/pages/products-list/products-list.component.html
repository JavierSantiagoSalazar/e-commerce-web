<div class="products-page">
  <div class="page-header">
    <div class="header-content">
      <h1 class="page-title">Productos</h1>
      <button class="btn-new-product" routerLink="/products/new">
        <span class="material-symbols-outlined">add</span>
        Nuevo Producto
      </button>
    </div>
  </div>

  <app-product-filters (filtersChanged)="onFiltersChanged($event)"></app-product-filters>

  <div class="loading-container" *ngIf="isLoading">
    <div class="loading-spinner"></div>
    <p class="loading-text">Cargando productos...</p>
  </div>

  <div class="error-container" *ngIf="error && !isLoading">
    <span class="material-symbols-outlined error-icon">error</span>
    <h3>Error al cargar productos</h3>
    <p>{{ error }}</p>
    <button class="btn-retry" (click)="loadProducts()">
      <span class="material-symbols-outlined">refresh</span>
      Reintentar
    </button>
  </div>

  <div class="products-grid" *ngIf="!isLoading && !error && products.length > 0">
    <app-product-card
      *ngFor="let product of products"
      [product]="product"
      (productDeleted)="onDeleteProduct($event)">
    </app-product-card>
  </div>

  <div class="pagination-info" *ngIf="!isLoading && !error && products.length > 0">
    <p>Mostrando {{ products.length }} de {{ totalElements }} productos</p>
  </div>

  <div class="empty-state" *ngIf="!isLoading && !error && products.length === 0">
    <span class="material-symbols-outlined empty-icon">inventory_2</span>
    <h3>No hay productos</h3>
    <p>Comienza agregando tu primer producto</p>
    <button class="btn-new-product" routerLink="/products/new">
      <span class="material-symbols-outlined">add</span>
      Nuevo Producto
    </button>
  </div>
</div>
